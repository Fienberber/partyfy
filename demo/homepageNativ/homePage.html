<!DOCTYPE html>
<html lang="en">
<head>
  <title>Partyfy home page</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>
<body onload="loadUpdate()">


<button class="btn right" onclick="window.location.href='logout';" type="button">logout</button>
<br>
<div class="col-12">

<h1 class="center" >Welcome to Partyfy !</h1>
</div>
<br>
<br>
<br>


<div class="row">
  <div class="col-3">
     
  </div>

  <div class="col-6 center">
    <button class="btn center" type="button">Create a new Party</button>
    <br>
    <br>
		<h2 class="render" id="render_text">Your parties:</h2>

    <div class="aside center">
     <dl class="partyList" id="partyList">
     </dl>
    </div>

		
  </div>

  <div class="col-3 right">
    
  </div>
</div>




<script>
var parties = ["New Year","Birthday","Esaip","Casual"]
var partiesId = [1,2,3,4]
var partiesInputCount = [80, 50, 120, 123];

function loadUpdate(){
	updatePartyList();
}

function updatePartyList(){
  var div = document.getElementById("partyList");
  for (i = 0; i < parties.length; i++) { 
    var p = document.createElement("dt"); 
    p.classList.add('party');
    p.innerHTML = parties[i] + ": " + partiesInputCount[i] ;

    createEditButton(p,partiesId[i], "edit")
    createRemoveButton(p,partiesId[i], "remove")

    div.appendChild(p);
  } 
}


function createEditButton(context, func, value) {
    var button = document.createElement("input");
    button.type = "button";
    button.value = value;
    button.onclick = function() { window.location.href = 'edit#' + func; };
    button.classList.add('btn');
    context.appendChild(button);
}

function createRemoveButton(context, func, value) {
    var button = document.createElement("input");
    button.type = "button";
    button.value = value;
    button.onclick = function() { delet(func); };
    button.classList.add('btn');
    context.appendChild(button);
}


function delet(partyId){
  var r = confirm("Are you sure ?");
  if(r){
    alert("removed: " + partyId)
  }
  //canceled
}

function edit(partyId){
  alert("Edit the party: " + partyId);
}


</script>

</body>
</html>

