<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body onload="loadUpdate()">

<!-- Use any element to open the sidenav -->


<h1 class="center">
	<button onclick="openNav()" type="submit" class="btn btn-primary btn-lg float-left ml-2 mt-2">Menu</button>
	Partyfy input editor
	<button onclick="save()" type="submit" class="btn btn-primary btn-lg float-right mr-2 mt-2">Save</button>
</h1>


<div id="mySidenav" class="sidenav">
	<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
	<a href="#" class="list-group-item list-group-item-action">Dapibus ac facilisis in</a>
	<a href="#" class="list-group-item list-group-item-action">This is a primary list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a secondary list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a success list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a danger list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a warning list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a info list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a light list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a dark list group item</a>	
	<a href="#" class="list-group-item list-group-item-action">Dapibus ac facilisis in</a>
	<a href="#" class="list-group-item list-group-item-action">This is a primary list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a secondary list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a success list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a danger list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a warning list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a info list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a light list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a dark list group item</a>	
	<a href="#" class="list-group-item list-group-item-action">Dapibus ac facilisis in</a>
	<a href="#" class="list-group-item list-group-item-action">This is a primary list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a secondary list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a success list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a danger list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a warning list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a info list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a light list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a dark list group item</a>	
	<a href="#" class="list-group-item list-group-item-action">Dapibus ac facilisis in</a>
	<a href="#" class="list-group-item list-group-item-action">This is a primary list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a secondary list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a success list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a danger list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a warning list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a info list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a light list group item</a>
	<a href="#" class="list-group-item list-group-item-action">This is a dark list group item</a>
</div>


<br>
<br>
<br>

<div class="center maindiv col-xs-2">

	<div class="input-group input-group-lg">
	  <input type="text" class="form-control" aria-label="Large" aria-describedby="inputGroup-sizing-sm" placeholder="Title" required>
	</div>

	<br>

	<div class="form-group">
		<div class="center subDiv col-xs-1">
			<label for="sel1">Number of random players:</label>
			<select class="form-control" id="sel1">
			</select>
		</div>
	</div>

	<br>

	<input type="text" id="input_text" class="form-control" aria-label="Large" aria-describedby="inputGroup-sizing-sm" onkeyup="updateRender()" placeholder="Input content" required>

	<br>

	<button onclick="andRandomAnchor()" type="submit" class="btn btn-primary btn-lg">Add anchor</button>
	<button onclick="tts()" type="submit" class="btn btn-primary btn-lg">Read input</button>

	<br>
	<br>

	<h1 class="render" id="render_text">...</h1>

</div>








<script>

var players = ["Laure", "Nath", "Louise", "Th√©o", "LM", "Yoyo"];

function loadUpdate(){
	var select = document.getElementById("sel1");
	for (i = 0; i < players.length; i++) { 
	 	var option = document.createElement("option");
		option.text = i;
		select.add(option);
	}	
}

function tts() {
  var msg = new SpeechSynthesisUtterance();
  msg.text = document.getElementById("render_text").textContent;
  window.speechSynthesis.speak(msg);}


/* Set the width of the side navigation to 250px */
function openNav() {
  document.getElementById("mySidenav").style.width = "250px";
}

/* Set the width of the side navigation to 0 */
function closeNav() {
  document.getElementById("mySidenav").style.width = "0";
}


function updateRender(){
	var input_text = document.getElementById("input_text").value;
	if(input_text.includes("[players]")){
		var select = document.getElementById("sel1");
		var numPlayers = select.options[select.selectedIndex].value;
		if(numPlayers < 1) alert("Please select the number of players");
		var subPlayers = players.slice();
		var outputText = "";
		for (var i = 1; i <= numPlayers; i++) {
			var random = Math.floor(Math.random() * subPlayers.length);
			if(i == 1)outputText += subPlayers[random];
			else if(i == numPlayers) outputText += " et " + subPlayers[random];
			else outputText += ", " + subPlayers[random];

			subPlayers.splice(random, 1);
		}
		var str = document.getElementById("input_text").value
		document.getElementById("render_text").textContent = str.replace("[players]", outputText);
	}
	else {
		document.getElementById("render_text").textContent = document.getElementById("input_text").value;
	}	
}

function andRandomAnchor(){
	document.getElementById("input_text").value = document.getElementById("input_text").value + "[players]";
}

</script>

</body>
</html>

